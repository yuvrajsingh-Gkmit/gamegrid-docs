{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"\ud83c\udfae GameGrid","text":"<p>Smart Gaming Cafe Management &amp; Slot-Tracking and Booking Platform</p>"},{"location":"#introduction","title":"Introduction","text":"<p>Players can use GameGrid to find nearby gaming cafes and see which games are available. They can track slot availability in real time and book their sessions online. When a player books a slot, it becomes \"Pending\" with a 1-minute payment timer. The owner receives player details and can confirm the booking after payment.</p> <p>Cafe owners can manage their cafes, add games, create time slots, and manage player bookings. They can view all slots with their status (Available/Pending/Booked) and approve bookings after payment confirmation.</p>"},{"location":"#what-gamegrid-does","title":"What GameGrid Does","text":""},{"location":"#for-players","title":"For Players","text":"<ul> <li>Find nearby gaming cafes (filtered by matching area and pincode).  </li> <li>See which games are available at selected cafe.  </li> <li>Track live slot availability.  </li> <li>Book slots online (1-minute payment pending timer).  </li> <li>Receive confirmation when owner approves booking.</li> </ul>"},{"location":"#for-cafe-owners","title":"For Cafe Owners","text":"<ul> <li>Add cafe details (name, address, phone, area, pincode).  </li> <li>Manage games (add unlimited games).  </li> <li>Create time slots (fixed \u20b9100 per slot).  </li> <li>View and manage bookings (Available/Pending/Booked status).  </li> <li>Approve bookings after payment confirmation.</li> </ul>"},{"location":"#for-everyone","title":"For Everyone","text":"<ul> <li>Increases transparency between gamers and cafes.  </li> <li>Saves time and reduces confusion.  </li> <li>Helps both gamers and cafe owners coordinate easily and efficiently.</li> </ul>"},{"location":"#platform-flow-system-diagram","title":"Platform Flow (System Diagram)","text":"<pre><code>flowchart LR\n    %% === OWNER FLOW (LEFT \u2013 FIRST) ===\n    subgraph Owner_Flow [\"Owner Dashboard\"]\n        direction TB\n        O1[\"Owner \u2013 Login / Sign-Up&lt;br&gt;&lt;br&gt;\"] \n        O2[\"Enter Owner &amp; Caf\u00e9 Details&lt;br&gt;\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500&lt;br&gt;\u2022 Owner Name&lt;br&gt;\u2022 Caf\u00e9 Name&lt;br&gt;\u2022 Address&lt;br&gt;\u2022 Phone No.&lt;br&gt;&lt;br&gt;\"] \n        O3[\"Add Games &amp; Pricing&lt;br&gt;\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500&lt;br&gt;\u2022 Game Name&lt;br&gt;\u2022 Price&lt;br&gt;&lt;br&gt;&lt;br&gt;\"] \n        O4[\"Manage Slots &lt;br&gt;\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500&lt;br&gt;\u2022 Set Time Slots&lt;br&gt;\u2022 Mark \ud83d\udfe2Available/\ud83d\udd34Booked/Pending\ud83d\udfe1 &lt;br&gt;\u2022 Real-time Update&lt;br&gt;&lt;br&gt;\"] \n\n        O1 --&gt; O2 --&gt; O3 --&gt; O4 \n    end\n\n    %% === PLAYER FLOW (RIGHT \u2013 SECOND) ===\n    subgraph Player_Flow [\"Player Journey\"]\n        direction TB\n        P1[\"Player \u2013 Login / Sign-Up&lt;br&gt;&lt;br&gt;Player Icon\"] \n        P2[\"Player Details&lt;br&gt;\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500&lt;br&gt;\u2022 Full Name&lt;br&gt;\u2022Address&lt;br&gt;\u2022 Phone &lt;br&gt;&lt;br&gt;\"] \n        P3[\"Search Nearby Caf\u00e9s&lt;br&gt;\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500&lt;br&gt;\u2022detect Location&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;\"] \n        P4[\"List of Nearby Caf\u00e9s&lt;br&gt;\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500&lt;br&gt;\u2022 Caf\u00e9 Names&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;\"] \n        P5[\"Select Caf\u00e9 \u2192 View Info&lt;br&gt;\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500&lt;br&gt;\u2022 Caf\u00e9 Name&lt;br&gt;\u2022Game List&lt;br&gt;\u2022Address&lt;br&gt;\u2022Phone number&lt;br&gt;\"] \n        P6[\"Choose Game&lt;br&gt;\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500&lt;br&gt;\u2022 Game name &lt;br&gt;\u2022 View Price &lt;br&gt;&lt;br&gt;&lt;br&gt;\"] \n        P7[\"View &amp; Book Slots&lt;br&gt;\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500&lt;br&gt;Available\ud83d\udfe2&lt;br&gt;Booked\ud83d\udd34&lt;br&gt;Pending\ud83d\udfe1&lt;br&gt;\u2022 Pick Time&lt;br&gt;\u2022 Confirm Booking&lt;br&gt;&lt;br&gt;\"]\n\n        P1 --&gt; P2 --&gt; P3 --&gt; P4 --&gt; P5 --&gt; P6 --&gt; P7\n    end\n\n    %% === STYLING: BIG, BOLD, EMOJI-READY ===\n    classDef ownerStart fill:#F59E0B, color:#fff, stroke:#D97706, stroke-width:4px, font-size:18px, padding:28px, font-weight:bold, border-radius:14px\n    classDef playerStart fill:#10B981, color:#fff, stroke:#059669, stroke-width:4px, font-size:18px, padding:28px, font-weight:bold, border-radius:14px\n    classDef stepStyle fill:#F9FAFB, color:#1F2937, stroke:#D1D5DB, stroke-width:2px, font-size:16px, padding:24px, border-radius:12px\n\n    class O1 ownerStart\n    class P1 playerStart\n    class O2,O3,O4,O5 stepStyle\n    class P2,P3,P4,P5,P6,P7 stepStyle\n\n    %% Force Owner LEFT, Player RIGHT\n    Owner_Flow -.-&gt; Player_Flow\n    linkStyle default stroke:#9CA3AF, stroke-width: 2px, stroke-dasharray: 0 0 \n</code></pre>"},{"location":"#authentication-flow","title":"Authentication Flow","text":"<p>A user (either a Player or a Caf\u00e9 Owner) enters their email and password on the login page. The system verifies the provided credentials in the database.</p> <ul> <li> <p>If the credentials are valid, the system identifies the user\u2019s role (<code>player</code> or <code>owner</code>)   and redirects them to their respective dashboard:</p> </li> <li> <p>Players \u2192 redirected to the Caf\u00e9 Discovery &amp; Slot Booking page.</p> </li> <li>Caf\u00e9 Owners \u2192 redirected to the Owner Dashboard for managing caf\u00e9s, games, and slots.</li> <li>If the credentials are invalid, an error message such as \u201cInvalid email or password\u201d is displayed.</li> </ul>"},{"location":"#authorization-rules","title":"Authorization Rules","text":"<p>GamerGrid uses a Role-Based Access Control (RBAC) system to manage permissions and access.</p> <ul> <li>A user\u2019s role (Player or Owner) defines what features they can access in the system.</li> <li> <p>Players can:</p> </li> <li> <p>Search nearby caf\u00e9s</p> </li> <li>View available games and slots</li> <li>Book slots</li> <li> <p>Caf\u00e9 Owners can:</p> </li> <li> <p>Add and manage caf\u00e9s</p> </li> <li>Add or edit games</li> <li> <p>Create, update, time slots</p> </li> <li> <p>Each role is linked to specific permissions, which control what actions they can perform and what pages they can access.</p> </li> <li> <p>The RBAC model is implemented using three core tables:</p> </li> <li> <p><code>roles</code></p> </li> <li><code>permissions</code></li> <li><code>role_permissions</code></li> </ul>"},{"location":"#authentication-authorization-flow","title":"Authentication &amp; Authorization Flow","text":"<pre><code>flowchart TB\n    %% === AUTHENTICATION &amp; AUTHORIZATION FLOW ===\n    subgraph Auth_Process [\" \"]\n        direction TB\n\n        A1[\"User Opens GamerGrid App / Website\"]\n        A2[\"Enter Username and Password\"]\n        A3[\"Server Verifies Credentials\"]\n        A4{\"Credentials Valid?\"}\n        A5[\"\u274c Invalid \u2192 Show Error Message\"]\n        A6[\"\u2705 Valid \u2192 Generate Access Token (with Role Info)\"]\n        A7[\"User Sends Request to Access a Page or Feature\"]\n        A8[\"Server Verifies Access Token\"]\n        A9[\"Extract User Role&lt;br&gt;(Caf\u00e9 Owner / Player)\"]\n        A10{\"Is User Authorized to Access?\"}\n        A11[\"\u274c Access Denied&lt;br&gt;Show 'Not Authorized' Message\"]\n        A12[\"\u2705 Access Granted&lt;br&gt;Show Requested Page\"]\n    end\n\n    %% === COLOR THEMES ===\n    classDef authStep fill:#E0F2FE, color:#1E3A8A, stroke:#60A5FA, stroke-width:2px, font-weight:bold, border-radius:10px\n    classDef decision fill:#FEF9C3, color:#78350F, stroke:#FACC15, stroke-width:2px, font-weight:bold, border-radius:8px\n    classDef error fill:#FEE2E2, color:#991B1B, stroke:#F87171, stroke-width:2px, border-radius:8px\n    classDef success fill:#DCFCE7, color:#14532D, stroke:#4ADE80, stroke-width:2px, border-radius:8px\n\n    %% === APPLYING STYLES ===\n    class A1,A2,A3 authStep\n    class A4,A10 decision\n    class A5 error\n    class A6,A7,A8,A9 authStep\n    class A11 error\n    class A12 success\n\n    %% === FLOW CONNECTIONS ===\n    A1 --&gt; A2 --&gt; A3 --&gt; A4\n    A4 -- No --&gt; A5\n    A4 -- Yes --&gt; A6 --&gt; A7 --&gt; A8 --&gt; A9 --&gt; A10\n    A10 -- No --&gt; A11\n    A10 -- Yes --&gt; A12\n\n</code></pre>"},{"location":"#functional-use-cases","title":"Functional Use Cases","text":""},{"location":"#for-players_1","title":"For Players","text":"<ul> <li>Register and log in to their account.  </li> <li>Add player details (name, address, phone, area, pincode).  </li> <li>Search and discover nearby gaming cafes (matching area and pincode).  </li> <li>View cafe details, available games.  </li> <li>Check real-time slot availability.  </li> <li>Book slots online (1-minute payment pending timer).  </li> <li>Receive confirmation when owner approves booking.</li> </ul>"},{"location":"#for-cafe-owners_1","title":"For Cafe Owners","text":"<ul> <li>Register as a cafe owner and log in to their account.  </li> <li>Add cafe details (cafe name, address, phone, area, pincode).  </li> <li>Add unlimited games to their cafe.  </li> <li>Create time slots (fixed \u20b9100 per slot).  </li> <li>Manage player bookings (view player name and phone for pending slots).  </li> <li>Approve bookings after payment confirmation.</li> </ul>"},{"location":"#business-use-cases","title":"Business Use Cases","text":"<ul> <li> <p>Easy Cafe Discovery:    Helps gamers quickly find nearby cafes (matching area and pincode) and see game availability and open slots.</p> </li> <li> <p>Streamlined Booking Experience:    Reduces manual communication \u2014 players can check slots and book directly through the app.    Owner receives player details and can confirm payment via WhatsApp QR code.</p> </li> <li> <p>Digital Cafe Management:    Helps cafe owners manage games and slot schedules in one place instead of using manual logs.    Fixed \u20b9100 per slot pricing simplifies management.</p> </li> <li> <p>Platform Transparency:    Creates trust between players and cafes by showing real-time availability and verified information.    1-minute payment timer ensures quick booking confirmations.</p> </li> </ul>"},{"location":"#tech-stack","title":"Tech Stack","text":""},{"location":"#frontend","title":"Frontend","text":"Technology Version Purpose React v19.2.0 UI library for building component-based interfaces Vite v7.2.2 Build tool and development server React Router v6.28.0 Client-side routing and navigation Jest v30.2.0 JavaScript testing framework"},{"location":"#backend","title":"Backend","text":"Technology Version Purpose Python v3.12.7 Programming language FastAPI v0.121.1 Modern async web framework SQLAlchemy v2.0.44 SQL toolkit and ORM PostgreSQL v16.6 Relational database Pytest v9.0.0 Testing framework pytest-asyncio v1.3.0 Async test support for pytest pytest-cov v7.0.0 Code coverage plugin for pytest Uvicorn v0.38.0 ASGI server for FastAPI"},{"location":"#devops-deployment","title":"DevOps &amp; Deployment","text":"Technology Version Purpose AWS EC2 - Application hosting (compute) AWS RDS - Managed PostgreSQL database GitHub Actions - CI/CD pipeline automation"},{"location":"#schema-design","title":"Schema Design","text":""},{"location":"#database-overview","title":"Database Overview","text":"<p>We use a PostgreSQL database to store all user, cafe, game, and slot data. It's secure, reliable, and perfect for handling real-time gaming cafe operations.</p> <p>Key Features: - All tables use UUID primary keys for better security - Soft deletion support with <code>deleted_at</code> timestamps - Automatic timestamps (<code>created_at</code>, <code>modified_at</code>) - RBAC support with roles, permissions, and user_roles tables</p>"},{"location":"#entity-relationship-diagram","title":"Entity Relationship Diagram","text":"<p>This diagram shows how the main data tables of GameGrid are connected.</p> <pre><code>erDiagram\n    users ||--o| owners : has\n    users ||--o| players : has\n    owners ||--o{ games : offers\n    owners ||--o{ slots : provides\n    slots }o--o| players : booked_by\n    roles ||--o{ user_roles : assigned_to\n    users ||--o{ user_roles : has\n    roles ||--o{ role_permissions : has\n    permissions ||--o{ role_permissions : granted_to\n\n\n\n    users {\n    uuid id PK\n    varchar username UK\n    varchar email UK\n    varchar hashed_password\n    enum register_as \"owner | player\"\n    boolean is_active\n    timestamp created_at\n    timestamp modified_at\n    timestamp deleted_at\n}\n\nowners {\n    uuid id PK\n    uuid user_id FK UK\n    varchar cafe_name\n    varchar address\n    varchar phone\n    varchar area\n    varchar pincode\n    timestamp created_at\n    timestamp modified_at\n    timestamp deleted_at\n}\n\nplayers {\n    uuid id PK\n    uuid user_id FK UK\n    varchar name\n    varchar address\n    varchar phone\n    varchar area\n    varchar pincode\n    timestamp created_at\n    timestamp modified_at\n    timestamp deleted_at\n}\n\ngames {\n    uuid id PK\n    uuid owner_id FK\n    varchar name\n    timestamp created_at\n    timestamp modified_at\n    timestamp deleted_at\n}\n\nslots {\n    uuid id PK\n    uuid owner_id FK\n    uuid player_id FK\n    varchar date\n    varchar start_time\n    varchar end_time\n    enum status \"available | pending | booked\"\n    float price\n    timestamptz pending_expires_at\n    timestamp created_at\n    timestamp modified_at\n    timestamp deleted_at\n}\n\nroles {\n    uuid id PK\n    varchar name UK               \n    timestamp created_at \n    timestamp modified_at \n    timestamp deleted_at\n}\n\nrole_permissions {\n    uuid id PK\n    uuid role_id FK\n    uuid permission_id FK\n    timestamp created_at\n    timestamp modified_at\n    timestamp deleted_at\n}\n\npermissions {\n    uuid id PK\n    varchar name UK\n    text description\n    timestamp created_at\n    timestamp modified_at\n    timestamp deleted_at\n}\n\nuser_roles {\n    uuid id PK\n    uuid user_id FK\n    uuid role_id FK\n    timestamp created_at\n    timestamp modified_at\n    timestamp deleted_at\n}</code></pre>"},{"location":"#table-schemas","title":"Table Schemas","text":""},{"location":"#1-users","title":"1. users","text":"<p>This table stores all registered users \u2014 both players and cafe owners \u2014 with role enum.</p> <pre><code>CREATE TABLE users (\n    id              UUID PRIMARY KEY DEFAULT gen_random_uuid(),\n    username        VARCHAR(150) UNIQUE NOT NULL,\n    email           VARCHAR(255) UNIQUE NOT NULL,\n    hashed_password TEXT NOT NULL,\n    register_as     VARCHAR(20) NOT NULL CHECK (register_as IN ('owner', 'player')),\n    is_active       BOOLEAN DEFAULT TRUE,\n    created_at        TIMESTAMPTZ DEFAULT NOW() NOT NULL,\n    modified_at      TIMESTAMPTZ DEFAULT NOW() NOT NULL,\n    deleted_at       TIMESTAMPTZ\n);\n</code></pre> <ul> <li>register_as: Enum field indicating user type (owner/player).</li> <li>email: Used for login, must be unique.</li> <li>username: Also unique, used for authentication.</li> <li>hashed_password: Argon2 hashed password.</li> <li>deleted_at: Used for soft deletion (user deactivation).</li> </ul>"},{"location":"#2-owners","title":"2. owners","text":"<p>This table stores details about each cafe owned by a user.</p> <pre><code>CREATE TABLE owners (\n    id              UUID PRIMARY KEY DEFAULT gen_random_uuid(),\n    user_id         UUID NOT NULL UNIQUE REFERENCES users(id) ON DELETE CASCADE,\n    cafe_name       VARCHAR(200),\n    address         TEXT,\n    phone           VARCHAR(20),\n    area            VARCHAR(100),\n    pincode         VARCHAR(10),\n    created_at      TIMESTAMPTZ DEFAULT NOW() NOT NULL,\n    modified_at     TIMESTAMPTZ DEFAULT NOW() NOT NULL,\n    deleted_at      TIMESTAMPTZ\n);\n</code></pre> <ul> <li>user_id: The user (owner) who registered the cafe (one-to-one relationship).</li> <li>area, pincode: Used for nearby cafe searches (matching with player's area and pincode).</li> <li>cafe_name, address, phone: Cafe contact and location details.</li> <li>Soft delete: Helps maintain deleted cafe records.</li> </ul>"},{"location":"#3-games","title":"3. games","text":"<p>This table lists all games available in each cafe.</p> <pre><code>CREATE TABLE games (\n    id              UUID PRIMARY KEY DEFAULT gen_random_uuid(),\n    owner_id        UUID NOT NULL REFERENCES owners(id) ON DELETE CASCADE,\n    name            VARCHAR(100) NOT NULL,\n    created_at      TIMESTAMPTZ DEFAULT NOW() NOT NULL,\n    modified_at     TIMESTAMPTZ DEFAULT NOW() NOT NULL,\n    deleted_at      TIMESTAMPTZ\n);\n</code></pre> <ul> <li>owner_id: Connects each game to a specific cafe owner.</li> <li>name: Game name (e.g., \"Call of Duty\", \"GTA 4\").</li> <li>Note: Slot price is fixed at \u20b9100, not per game.</li> <li>deleted_at: Marks temporarily removed games.</li> </ul>"},{"location":"#4-slots","title":"4. slots","text":"<p>This table manages all cafe time slots (available, pending, booked).</p> <pre><code>CREATE TABLE slots (\n    id                  UUID PRIMARY KEY DEFAULT gen_random_uuid(),\n    owner_id            UUID NOT NULL REFERENCES owners(id) ON DELETE CASCADE,\n    player_id           UUID REFERENCES players(id) ON DELETE SET NULL,\n    date                VARCHAR(10) NOT NULL,\n    start_time          VARCHAR(5) NOT NULL,\n    end_time            VARCHAR(5) NOT NULL,\n    status              VARCHAR(20) DEFAULT 'available' CHECK (status IN ('available', 'pending', 'booked')),\n    price               FLOAT DEFAULT 100.0,\n    pending_expires_at  TIMESTAMPTZ,\n    created_at          TIMESTAMPTZ DEFAULT NOW() NOT NULL,\n    modified_at         TIMESTAMPTZ DEFAULT NOW() NOT NULL,\n    deleted_at          TIMESTAMPTZ\n);\n</code></pre> <ul> <li>owner_id: The cafe owner that owns the slot.</li> <li>player_id: The player who booked the slot (null if available).</li> <li>date: Date in YYYY-MM-DD format.</li> <li>start_time, end_time: Time in HH:MM format.</li> <li>status: Slot status \u2014 <code>'available'</code>, <code>'pending'</code>, or <code>'booked'</code>.</li> <li>price: Fixed \u20b9100 per slot.</li> <li>pending_expires_at: Expiration time for pending slots (1 minute timer).</li> </ul>"},{"location":"#5-players","title":"5. players","text":"<p>This table stores player profile information.</p> <pre><code>CREATE TABLE players (\n    id              UUID PRIMARY KEY DEFAULT gen_random_uuid(),\n    user_id         UUID NOT NULL UNIQUE REFERENCES users(id) ON DELETE CASCADE,\n    name            VARCHAR(200),\n    address         TEXT,\n    phone           VARCHAR(20),\n    area            VARCHAR(100),\n    pincode         VARCHAR(10),\n    created_at      TIMESTAMPTZ DEFAULT NOW() NOT NULL,\n    modified_at     TIMESTAMPTZ DEFAULT NOW() NOT NULL,\n    deleted_at      TIMESTAMPTZ\n);\n</code></pre> <ul> <li>user_id: Links to the user account (one-to-one relationship).</li> <li>area, pincode: Used for matching with cafe owners' area and pincode.</li> <li>name, address, phone: Player contact information.</li> <li>deleted_at: Used for soft deletion.</li> </ul>"},{"location":"#6-roles","title":"6. roles","text":"<p>This table defines all user roles in the RBAC system.</p> <pre><code>CREATE TABLE roles (\n    id              UUID PRIMARY KEY DEFAULT gen_random_uuid(),\n    name            VARCHAR(100) UNIQUE NOT NULL,\n    created_at      TIMESTAMPTZ DEFAULT NOW() NOT NULL,\n    modified_at     TIMESTAMPTZ DEFAULT NOW() NOT NULL,\n    deleted_at      TIMESTAMPTZ\n);\n</code></pre> <ul> <li>name: Role name (e.g., <code>player</code>, <code>owner</code>, <code>admin</code>).</li> <li>Note: Currently using enum-based roles (<code>register_as</code> in users table) for simplicity.</li> </ul>"},{"location":"#7-permissions","title":"7. permissions","text":"<p>This table defines all actions or privileges that can be assigned to roles.</p> <pre><code>CREATE TABLE permissions (\n    id              UUID PRIMARY KEY DEFAULT gen_random_uuid(),\n    name            VARCHAR(150) UNIQUE NOT NULL,\n    description     TEXT,\n    created_at      TIMESTAMPTZ DEFAULT NOW() NOT NULL,\n    modified_at     TIMESTAMPTZ DEFAULT NOW() NOT NULL,\n    deleted_at      TIMESTAMPTZ\n);\n</code></pre> <ul> <li>name: The action name (e.g., <code>'create_slot'</code>, <code>'book_slot'</code>, <code>'manage_cafe'</code>).</li> <li>description: Describes what that permission allows.</li> </ul>"},{"location":"#8-role_permissions","title":"8. role_permissions","text":"<p>This junction table connects <code>roles</code> and <code>permissions</code> (many-to-many).</p> <pre><code>CREATE TABLE role_permissions (\n    id              UUID PRIMARY KEY DEFAULT gen_random_uuid(),\n    role_id         UUID NOT NULL REFERENCES roles(id) ON DELETE CASCADE,\n    permission_id   UUID NOT NULL REFERENCES permissions(id) ON DELETE CASCADE,\n    created_at      TIMESTAMPTZ DEFAULT NOW() NOT NULL,\n    modified_at     TIMESTAMPTZ DEFAULT NOW() NOT NULL,\n    deleted_at      TIMESTAMPTZ,\n    UNIQUE(role_id, permission_id)\n);\n</code></pre> <ul> <li>role_id: The role being assigned a permission.</li> <li>permission_id: The permission being granted to that role.</li> <li>Unique constraint: Prevents duplicate role-permission assignments.</li> </ul>"},{"location":"#9-user_roles","title":"9. user_roles","text":"<p>This junction table connects <code>users</code> and <code>roles</code> (many-to-many).</p> <pre><code>CREATE TABLE user_roles (\n    id              UUID PRIMARY KEY DEFAULT gen_random_uuid(),\n    user_id         UUID NOT NULL REFERENCES users(id) ON DELETE CASCADE,\n    role_id         UUID NOT NULL REFERENCES roles(id) ON DELETE CASCADE,\n    created_at      TIMESTAMPTZ DEFAULT NOW() NOT NULL,\n    modified_at     TIMESTAMPTZ DEFAULT NOW() NOT NULL,\n    deleted_at      TIMESTAMPTZ,\n    UNIQUE(user_id, role_id)\n);\n</code></pre> <ul> <li>user_id: The user being assigned a role.</li> <li>role_id: The role being assigned to that user.</li> <li>Unique constraint: Prevents duplicate user-role assignments.</li> </ul>"},{"location":"#indexing-strategy","title":"Indexing Strategy","text":""},{"location":"#auto-created-indexes","title":"Auto-created indexes","text":"<p>These are automatically created by PostgreSQL:</p> <ul> <li>Primary keys \u2192 on all tables (<code>id</code>)</li> <li>Unique constraints \u2192</li> <li><code>users.username</code></li> <li><code>users.email</code></li> <li><code>owners.user_id</code></li> <li><code>players.user_id</code></li> <li><code>roles.name</code></li> <li><code>permissions.name</code></li> <li><code>role_permissions(role_id, permission_id)</code> - unique constraint</li> <li><code>user_roles(user_id, role_id)</code> - unique constraint</li> </ul>"},{"location":"#foreign-keys-for-faster-joins-and-lookups","title":"Foreign keys (for faster JOINs and lookups)","text":"<ul> <li><code>owners</code>: <code>user_id</code></li> <li><code>players</code>: <code>user_id</code></li> <li><code>games</code>: <code>owner_id</code></li> <li><code>slots</code>: <code>owner_id</code>, <code>player_id</code></li> <li><code>user_roles</code>: <code>user_id</code>, <code>role_id</code></li> <li><code>role_permissions</code>: <code>role_id</code>, <code>permission_id</code></li> </ul> <p>These indexes improve JOIN performance between related tables.</p>"},{"location":"#singular-indexes","title":"Singular Indexes","text":"<p>A singular index is created on one column only. It helps speed up queries that filter, sort, or search using a single field.</p> <p>Examples in GameGrid:</p> <ul> <li><code>users.username</code> \u2192 used during login authentication.</li> <li><code>users.email</code> \u2192 used for email-based lookups.</li> <li><code>slots.status</code> \u2192 used to quickly find all available/pending/booked slots.</li> <li><code>slots.date</code> \u2192 used for date-based slot filtering.</li> <li><code>owners.area</code> \u2192 used for area-based cafe searches.</li> <li><code>owners.pincode</code> \u2192 used for pincode-based cafe searches.</li> </ul>"},{"location":"#composite-indexes","title":"Composite Indexes","text":"<p>A composite index combines two or more columns into one index. It helps when queries use multiple conditions together (e.g. area + pincode, or owner_id + status).</p> <p>Examples in GameGrid:</p> <ul> <li><code>owners(area, pincode)</code> \u2192 for nearby cafe search (area + pincode combined).</li> <li><code>slots(owner_id, status)</code> \u2192 for showing only available slots of a specific cafe.</li> <li><code>slots(owner_id, date)</code> \u2192 for fetching slots by date for a specific cafe.</li> <li><code>games(owner_id, name)</code> \u2192 for looking up games under a specific cafe owner.</li> </ul>"},{"location":"#architecture","title":"Architecture","text":""},{"location":"#system-architecture-overview","title":"System Architecture Overview","text":"<p>GameGrid is a standard web application with three layers:</p> <ol> <li>Frontend: A React 19 application that users see in their web browser (Vite dev server).</li> <li>Backend: A FastAPI application that contains all the business logic and API endpoints.</li> <li>Database: A PostgreSQL database that stores all the data.</li> </ol>"},{"location":"#aws-specific-architecture-diagram","title":"AWS-Specific Architecture Diagram","text":"<p>This diagram shows a simplified view of the system hosted on AWS.</p> <p></p>"},{"location":"#data-flow-diagrams","title":"Data Flow Diagrams","text":""},{"location":"#1-user-login-authentication-flow","title":"1. User Login &amp; Authentication Flow","text":"<p>This shows how a player or cafe owner logs into GameGrid.</p> <pre><code>%%{init: {'theme':'base', 'themeVariables': { 'fontSize':'18px', 'fontFamily':'Arial'}}}%%\nsequenceDiagram\n    actor User\n    participant UI as Frontend\n    participant API as Backend\n    participant DB as Database\n\n    User-&gt;&gt;UI: Enters email and password\n    UI-&gt;&gt;API: Sends login credentials\n    API-&gt;&gt;DB: Validate user credentials\n    DB--&gt;&gt;API: Return result (user found / not found)\n\n    alt  Valid credentials\n        API--&gt;&gt;UI: Return auth token + role (player/owner)\n        UI--&gt;&gt;User: Redirect to dashboard\n    else Invalid password\n        API--&gt;&gt;UI: Return error \"Incorrect password\"\n        UI--&gt;&gt;User: Display message (\"Invalid password. Please try again.\")\n    else User not found\n        API--&gt;&gt;UI: Return error \"User not found\"\n        UI--&gt;&gt;User: Display message (\"Account not found. Please sign up first.\")\n    end\n</code></pre>"},{"location":"#2-owner-adds-cafe-flow","title":"2. Owner Adds Cafe Flow","text":"<p>This shows how a cafe owner registers and adds their cafe.</p> <pre><code>%%{init: {'theme':'base', 'themeVariables': { 'fontSize':'18px', 'fontFamily':'Arial'}}}%%\nsequenceDiagram\n    actor Owner\n    participant UI as Owner Dashboard\n    participant API as Backend\n    participant DB as Database\n\n    Owner-&gt;&gt;UI: Opens \"Add Cafe Details\" form\n    UI-&gt;&gt;API: Submits cafe details (cafe_name, address, phone, pincode, area)\n    API-&gt;&gt;DB: Insert/Update owner record \n\n    alt Insertion Successful\n        DB--&gt;&gt;API: Return success confirmation\n        API--&gt;&gt;UI: Send \"Cafe details added successfully\" response\n        UI--&gt;&gt;Owner: Redirect to \"Add Games\" page\n    else Insertion Failed\n        DB--&gt;&gt;API: Return error (e.g., DB connection or validation error)\n        API--&gt;&gt;UI: Send \"Failed to add cafe details\" error response\n        UI--&gt;&gt;Owner: Display error message (\"Something went wrong. Please try again.\")\n    end\n</code></pre>"},{"location":"#3-owner-adds-game-flow","title":"3. Owner Adds Game Flow","text":"<p>This shows how an owner adds games under their caf\u00e9.</p> <pre><code>%%{init: {'theme':'base', 'themeVariables': { 'fontSize':'18px', 'fontFamily':'Arial'}}}%%\nsequenceDiagram\n    actor Owner\n    participant UI as Owner Dashboard\n    participant API as Backend\n    participant DB as Database\n\n    Owner-&gt;&gt;UI: Fills out game details (game name)\n    UI-&gt;&gt;API: Sends game data\n    API-&gt;&gt;DB: Save new game under owner's cafe\n\n    alt Game Saved Successfully\n        DB--&gt;&gt;API: Return success confirmation with game data\n        API--&gt;&gt;UI: Send \"Game Added Successfully\"\n        UI--&gt;&gt;Owner: Display game in list and allow adding more games\n    else Game Save Failed\n        DB--&gt;&gt;API: Return error (e.g., DB constraint or connection error)\n        API--&gt;&gt;UI: Send \"Failed to add game\" error response\n        UI--&gt;&gt;Owner: Display error message (\"Unable to add game. Please try again.\")\n    end\n</code></pre>"},{"location":"#4-owner-manages-slots-flow","title":"4. Owner Manages Slots Flow","text":"<p>This shows how the owner creates or updates time slots for bookings.</p> <pre><code>%%{init: {'theme':'base', 'themeVariables': { 'fontSize':'18px', 'fontFamily':'Arial'}}}%%\nsequenceDiagram\n    actor Owner\n    participant UI as Owner Dashboard\n    participant API as Backend\n    participant DB as Database\n\n    Owner-&gt;&gt;UI: fill slotes details \n    UI-&gt;&gt;API: Sends slot details (start_time, end_time)\n    API-&gt;&gt;DB: Insert or update slot record\n\n    alt Slot Created or Updated Successfully\n        DB--&gt;&gt;API: Return success confirmation\n        API--&gt;&gt;UI: Send \"Slot Created / Updated Successfully\"\n        UI--&gt;&gt;Owner: Display success message (\"Slot created/updated successfully!\")\n    else Slot Creation or Update Failed\n        DB--&gt;&gt;API: Return error (e.g., DB constraint, invalid time, or connection failure)\n        API--&gt;&gt;UI: Send \"Failed to create/update slot\" error response\n        UI--&gt;&gt;Owner: Display error message (\"Unable to save slot. Please try again.\")\n    end\n</code></pre>"},{"location":"#5-player-booking-flow","title":"5. Player Booking Flow","text":"<p>This shows how a player searches caf\u00e9s and books a slot.</p> <pre><code>%%{init: {'theme':'base', 'themeVariables': { 'fontSize':'18px', 'fontFamily':'Arial'}}}%%\nsequenceDiagram\n    actor Player\n    participant UI as Frontend (App / Website)\n    participant API as Backend (Server)\n    participant DB as Database\n    participant Owner as Cafe Owner Dashboard\n\n    Player-&gt;&gt;UI: Clicks \"Find Cafe Near Me\"\n    note right of Player: Search filters by&lt;br&gt;\u2022 Matching Area (case-insensitive)&lt;br&gt;\u2022 Matching Pincode\n    UI-&gt;&gt;API: Sends request to fetch nearby cafes\n    API-&gt;&gt;DB: Fetch cafes matching player's area and pincode\n    DB--&gt;&gt;API: Return matching cafes (name, address, phone only)\n    API--&gt;&gt;UI: Display results (cafe list)\n\n    Player-&gt;&gt;UI: Clicks \"Click to view games\" for a cafe\n    UI-&gt;&gt;API: Fetch cafe games and details\n    API-&gt;&gt;DB: Fetch games and cafe details\n    DB--&gt;&gt;API: Return games and cafe info\n    API--&gt;&gt;UI: Display games and \"Book Slot\" option\n\n    Player-&gt;&gt;UI: Selects date and slot, clicks \"Book Slot\"\n    UI-&gt;&gt;API: Sends booking request (slot_id)\n    API-&gt;&gt;DB: Update slot (status = pending, player_id, pending_expires_at = 1 minute)\n    DB--&gt;&gt;API: Confirm booking initiated\n    API--&gt;&gt;UI: Send \"Booking initiated\" response\n    UI--&gt;&gt;Player: Show \"Payment pending...\" message\n\n    Owner-&gt;&gt;API: Views pending slots, sees player name and phone\n    Owner-&gt;&gt;API: Sends QR code on WhatsApp, clicks \"Approve Booking\"\n    API-&gt;&gt;DB: Update slot.status = \"booked\"\n    DB--&gt;&gt;API: Confirm booking\n    API--&gt;&gt;UI: Send \"Booking Confirmed\" response\n    UI--&gt;&gt;Player: Show \"Congratulations! Your slot is booked by cafe owner\" message\n</code></pre>"},{"location":"#additional-future-enhancements","title":"Additional Future Enhancements","text":"<ul> <li>Role-Based Access Control (RBAC): Implement granular permission system with dynamic role assignment, role hierarchy, and custom permissions per cafe (Admin, Manager, Staff roles for owners; Premium, Regular roles for players)</li> <li>Google Maps API Integration: Location-based cafe search with interactive map view, distance calculation, route navigation, and address autocomplete using Google Maps Geocoding and Places API</li> <li>Payment Gateway Integration: Secure online payment processing with Razorpay/Stripe/PayPal integration, automatic payment verification, payment history tracking, refund management, and multiple payment methods (UPI, cards, wallets, netbanking)</li> <li>Real-time Notifications: WebSocket integration for live updates on bookings, console availability, and payment confirmations</li> <li>Rating &amp; Reviews: Allow players to rate cafes and write reviews, helping other players make informed decisions</li> <li>Analytics Dashboard: Business insights for cafe owners including booking trends, peak hours, revenue reports, and popular games</li> <li>Mobile App: Native iOS and Android applications for better mobile user experience</li> <li>Multi-language Support: Support for regional languages (Hindi, Tamil, Telugu, etc.) for wider accessibility</li> <li>Advanced Booking Features: booking cancellation with refund policies</li> <li>Chat/Messaging System: Direct communication between players and cafe owners for queries and support</li> <li>Waitlist Management: Queue system for fully booked time slots with automatic notifications when slots become available</li> <li>Booking Reminders: Automated SMS/Email reminders before booking time slots</li> <li>Dark Mode: Theme customization for better user experience</li> </ul>"}]}